lintVersion: 1.0.0
defaultRuleset: speakeasy-generation
rulesets:
  criblSDK:
    rulesets:
      - speakeasy-generation
      - speakeasy-openapi
      - coreRuleset
    rules:
      operation-tag-defined: {
        severity: error,
      }
      oas3-unused-component: {
        severity: error,
      }
      validate-security: {
        severity: error,
      }
      validate-parameters: {
        severity: error,
      }
      # They are very chatty and not required to be enabled
      missing-examples: {
        severity: off,
      }
  coreRuleset:
    rules:
      duplicate-examples-rule:
        description: Detects duplicate 'example' fields where example is defined both inside a schema object and as a sibling property
        message: Duplicate 'example' field detected; define example in only one location (either in schema or as sibling property, not both)
        severity: error
        given: $.paths
        then:
          function: checkDuplicateExamples
