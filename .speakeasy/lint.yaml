lintVersion: 1.0.0
defaultRuleset: speakeasy-generation
rulesets:
  criblSDK:
    rulesets:
      - speakeasy-generation
      - coreRuleset
    rules:
      operation-tag-defined: {
        severity: error,
      }
      oas3-unused-component: {
        severity: error,
      }
      validate-parameters: {
        severity: error,
      }
      validate-security: {
        severity: error,
      }
      missing-error-response: {
        severity: error,
      }
      validate-consts-defaults: {
        severity: error,
      }
      # Bump this after the next release (4.16.0)
      # duplicate-schemas: {
      #   severity: error,
      # }
      operation-success-response: {
        severity: error,
      }
      operation-operationId: {
        severity: error,
      }
      duplicated-entry-in-enum: {
        severity: error,
      }
  coreRuleset:
    rules:
      duplicate-examples-rule:
        description: Detects duplicate 'example' fields where example is defined both inside a schema object and as a sibling property
        message: Duplicate 'example' field detected; define example in only one location (either in schema or as sibling property, not both)
        severity: error
        given: $.paths
        then:
          function: checkDuplicateExamples
